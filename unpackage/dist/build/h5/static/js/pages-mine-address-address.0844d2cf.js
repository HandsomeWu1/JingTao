(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-address-address"],{"12bb":function(e,t,n){var a=n("77a1");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var d=n("4f06").default;d("cebf60d4",a,!0,{sourceMap:!1,shadowMode:!1})},1574:function(e,t,n){"use strict";n.r(t);var a=n("7970"),d=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=d.a},"1bcc":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var a={uEmpty:n("d510").default,uIcon:n("d38f").default,uActionSheet:n("57d4").default},d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"address"},[e.empty?n("u-empty",{staticClass:"empty",attrs:{text:"暂无收货地址",mode:"address"}}):n("v-uni-view",{staticClass:"list"},[e._l(e.addressList,(function(t,a){return n("v-uni-view",{key:a,staticClass:"item c-content"},[n("v-uni-view",{staticClass:"basic",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.selectAddressData(t)}}},[n("v-uni-text",[e._v(e._s(t.name))]),n("v-uni-text",[e._v(e._s(t.mobile))]),n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.isDefault,expression:"item.isDefault"}],staticClass:"default"},[e._v("默认")]),n("v-uni-view",[n("div",{staticClass:"region"},[t.consigneeAddressPath[0]?n("span",[e._v(e._s(t.consigneeAddressPath[0]))]):e._e(),t.consigneeAddressPath[1]?n("span",[e._v(e._s(t.consigneeAddressPath[1]))]):e._e(),t.consigneeAddressPath[2]?n("span",[e._v(e._s(t.consigneeAddressPath[2]))]):e._e(),t.consigneeAddressPath[3]?n("span",[e._v(e._s(t.consigneeAddressPath[3]))]):e._e(),n("span",[e._v(e._s(t.detail))])])])],1),n("v-uni-view",{staticClass:"edit"},[n("v-uni-view",{staticClass:"relative",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.setDefault(t)}}},[t.isDefault?n("v-uni-view",{staticClass:"alifont icon-xuanzhong"}):n("v-uni-text",{staticClass:"unchecked"}),n("v-uni-text",[e._v(e._s(t.isDefault?"默认地址":"设为默认"))])],1),n("v-uni-view",{staticClass:"relative"},[n("v-uni-view",{staticClass:"alifont icon-bianji-copy"}),n("v-uni-text",{staticClass:"mr-40",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.addAddress(t.id)}}},[e._v("编辑")]),n("v-uni-view",{staticClass:"alifont icon-lajitong"}),n("v-uni-text",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.removeAddress(t.id)}}},[e._v("删除")])],1)],1)],1)})),n("v-uni-view",{staticStyle:{height:"100px"}})],2),n("v-uni-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addAddress("")}}},[n("u-icon",{attrs:{name:"plus-circle"}}),e._v("添加新收货人")],1),n("u-action-sheet",{attrs:{list:e.removeList,tips:e.tips},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteAddressMessage.apply(void 0,arguments)}},model:{value:e.showAction,callback:function(t){e.showAction=t},expression:"showAction"}})],1)},i=[]},"267a7":function(e,t,n){"use strict";n("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.getCarts=d,t.getCartNum=i,t.getCartCouponNum=o,t.addToCart=r,t.updateSkuNum=s,t.updateSkuChecked=c,t.deleteSkuItem=l,t.checkAll=u,t.checkStore=h,t.getCheckoutParams=f,t.setAddressId=p,t.createTrade=v,t.getCashierData=m,t.initiatePay=g,t.getExpress=b,t.getMemberCanUse=w,t.getMemberCouponList=k,t.useCoupon=x,t.changeActivity=y,t.reBuy=T;var a=n("e9a3");function d(){return a.http.request({url:"/trade/carts/all",method:a.Method.GET,needToken:!0,loading:!1})}function i(){return a.http.request({url:"/trade/carts/count",method:a.Method.GET,needToken:!0,loading:!1})}function o(e){return a.http.request({url:"/trade/carts/coupon/num?way=".concat(e),method:a.Method.GET,needToken:!0,loading:!1})}function r(e){return a.http.request({url:"/trade/carts",method:a.Method.POST,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:e})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.http.request({url:"/trade/carts/sku/num/".concat(e),method:a.Method.POST,header:{"content-type":"application/x-www-form-urlencoded"},needToken:!0,data:{num:t}})}function c(e,t){return a.http.request({url:"/trade/carts/sku/checked/".concat(e),method:a.Method.POST,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:{checked:t}})}function l(e){return a.http.request({url:"/trade/carts/sku/remove?skuIds=".concat(e),method:a.Method.DELETE,needToken:!0})}function u(e){return a.http.request({url:"/trade/carts/sku/checked",method:a.Method.POST,needToken:!0,params:{checked:e}})}function h(e,t){return a.http.request({url:"/trade/carts/store/".concat(e),method:a.Method.POST,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:{checked:t}})}function f(e){return a.http.request({url:"/trade/carts/checked?way="+e,method:a.Method.GET,needToken:!0})}function p(e,t){return a.http.request({url:"/trade/carts/shippingAddress?shippingAddressId=".concat(e,"&way=").concat(t),method:a.Method.GET,needToken:!0})}function v(e){return a.http.request({url:"/trade/carts/create/trade",method:a.Method.POST,needToken:!0,message:!1,data:e})}function m(e){return a.http.request({url:"cashier/tradeDetail",method:a.Method.GET,needToken:!0,params:e})}function g(e,t,n){return a.http.request({url:"cashier/pay/".concat(e,"/").concat(t),method:a.Method.GET,needToken:!0,params:n})}function b(e){return a.http.request({url:"/orders/getTraces/".concat(e),method:a.Method.POST,needToken:!0})}function w(e){return a.http.request({url:"/promotion/coupon/canUse",method:a.Method.GET,params:e})}function k(e){return a.http.request({url:"/promotion/coupon/getCoupons",method:a.Method.GET,params:e})}function x(e){return a.http.request({url:"/trade/carts/select/coupon",method:a.Method.GET,needToken:!0,params:e})}function y(e){return a.http.request({url:"trade/promotion",method:a.Method.POST,needToken:!0,data:e,header:{"content-type":"application/x-www-form-urlencoded"}})}function T(e){return a.http.request({url:"trade/carts/rebuy/".concat(e),method:a.Method.POST,needToken:!0})}},"308b":function(e,t,n){"use strict";n.r(t);var a=n("1bcc"),d=n("1574");for(var i in d)"default"!==i&&function(e){n.d(t,e,(function(){return d[e]}))}(i);n("9b6e");var o,r=n("f0c5"),s=Object(r["a"])(d["default"],a["b"],a["c"],!1,null,"d2421d40",null,!1,a["a"],o);t["default"]=s.exports},"77a1":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*京东红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-d2421d40]{color:#ff6b35}.main-color[data-v-d2421d40]{color:#ff3c2a}.bg-light-color[data-v-d2421d40]{background-color:#ff6b35!important}.bg-light-color[data-v-d2421d40] *{background-color:#ff6b35!important}.bg-main-color[data-v-d2421d40]{background-color:#ff3c2a!important}.uni-tabbar .uni-tabbar__icon[data-v-d2421d40]{width:20px;height:18px}.h1[data-v-d2421d40]{font-weight:500;font-style:normal;font-size:24px}.h2[data-v-d2421d40]{font-weight:500;font-style:normal;font-size:20px}.h3[data-v-d2421d40]{font-weight:500;font-style:normal;font-size:18px}.h4[data-v-d2421d40]{font-weight:500;font-style:normal;font-size:16px}.flex[data-v-d2421d40]{display:-webkit-box;display:-webkit-flex;display:flex}.btn[data-v-d2421d40]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;-webkit-box-shadow:none;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-d2421d40]::after{border:none}.button-hover[data-v-d2421d40]{opacity:.7}.margin[data-v-d2421d40]{margin:10px}.tag[data-v-d2421d40]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;-webkit-box-shadow:none;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-d2421d40]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-d2421d40]{margin-top:%?30?%}.border-top[data-v-d2421d40]{border-top:1px solid #ebeef5}.describe[data-v-d2421d40]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-d2421d40]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.relative[data-v-d2421d40]{position:relative}.wes[data-v-d2421d40]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-d2421d40]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.empty[data-v-d2421d40]{margin-top:%?200?%!important}.alifont[data-v-d2421d40]{display:inline-block}.region span[data-v-d2421d40]{margin:0 %?4?%!important}.address .default[data-v-d2421d40]{border:1px solid #ff6262;color:#ff6262;font-size:%?22?%;border-radius:%?6?%;-webkit-align-self:center;align-self:center;padding:%?2?% %?20?%}.address .list .item[data-v-d2421d40]:hover{background:#ededed}.address .list .item[data-v-d2421d40]{margin-top:%?20?%;font-size:%?28?%;color:#666}.address .list .item .basic[data-v-d2421d40]{padding:%?30?%;line-height:1.5em;border-bottom:1px solid #ebeef5}.address .list .item .basic[data-v-d2421d40] :nth-child(2){margin:0 %?20?%}.address .list .item .basic[data-v-d2421d40] :nth-child(4){color:#909399;font-size:%?24?%;margin-top:%?10?%}.address .list .item .basic :nth-child(4) uni-text[data-v-d2421d40]:nth-child(2){margin:0}.address .list .item .basic :nth-child(4) uni-view[data-v-d2421d40]{font-size:%?28?%}.address .list .item .edit[data-v-d2421d40]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;vertical-align:middle;height:%?80?%;font-size:%?24?%;color:#909399;padding:0 %?30?%}.address .list .item .edit .unchecked[data-v-d2421d40]{width:%?28?%;height:%?28?%;border-radius:50%;border:1px solid #e0e0e0;display:inline-block;vertical-align:middle;margin-right:%?8?%;position:relative;top:%?-2?%;left:0}.address .list .item .edit uni-view:nth-child(1) uni-view[data-v-d2421d40]:nth-child(1){font-size:%?28?%;color:#ff3c2a;margin-right:%?8?%;vertical-align:middle}.address .list .item .edit uni-view:nth-child(2) uni-text[data-v-d2421d40]{margin-left:%?5?%}.address .list .item .edit uni-view:nth-child(2) .alifont[data-v-d2421d40]{font-size:%?32?%}.address .list .item .edit uni-view:nth-child(2) .icon-bianji-copy[data-v-d2421d40]{font-size:%?28?%;position:relative;top:%?2?%;left:0}.address .list .item .edit uni-view:nth-child(2) .icon-lajitong[data-v-d2421d40]{position:relative;top:%?4?%}.address .list .item .edit .mr-40[data-v-d2421d40]{margin-right:%?40?%}.address .btn[data-v-d2421d40]{background:#ff6b35;position:fixed;width:%?690?%;bottom:%?60?%;height:%?80?%;left:%?30?%;font-size:%?30?%;line-height:%?80?%}.address .btn .u-icon[data-v-d2421d40]{margin-right:%?10?%}',""]),e.exports=t},7970:function(e,t,n){"use strict";var a=n("dbce"),d=n("4ea4");n("4160"),n("ac1f"),n("1276"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=d(n("1da1")),o=a(n("267a7")),r=a(n("69a2")),s={data:function(){return{addressList:[],showAction:!1,empty:!1,removeList:[{text:"确定"}],tips:{text:"确定要删除该收货人信息吗？"},removeId:"",routerVal:"",params:{pageNumber:1,pageSize:1e3}}},onLoad:function(e){this.routerVal=e},onShow:function(){this.addressList=[],this.getAddressList()},onHide:function(){},onBackPress:function(e){return uni.redirectTo({url:"/pages/order/fillorder?way="+this.routerVal.way}),!0},methods:{selectAddressData:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,o.setAddressId(e.id,t.routerVal.way);case 2:uni.redirectTo({url:"/pages/order/fillorder?way=".concat(t.routerVal.way)});case 3:case"end":return n.stop()}}),n)})))()},getAddressList:function(){var e=this;uni.showLoading(),r.getAddressList(this.params.pageNumber,this.params.pageSize).then((function(t){0==t.data.result.records.length?e.empty=!0:(t.data.result.records.forEach((function(e){e.consigneeAddressPath=e.consigneeAddressPath.split(",")})),e.$set(e,"addressList",t.data.result.records)),uni.hideLoading()}))},removeAddress:function(e){this.removeId=e,this.showAction=!0},deleteAddressMessage:function(){var e=this;r.deleteAddress(this.removeId).then((function(t){200==t.statusCode?(uni.showToast({icon:"none",title:"删除成功"}),e.getAddressList()):uni.showToast({icon:"none",title:t.data.message,duration:2e3})}))},addAddress:function(e){e?uni.navigateTo({url:"/pages/mine/address/add?id="+e+"&way="+this.routerVal.way+"&type=order"}):uni.navigateTo({url:"/pages/mine/address/add?way="+this.routerVal.way+"&type=order"})},setDefault:function(e){var t=this;delete e.updateBy,delete e.updateTime,delete e.deleteFlag,!e.isDefault&&(e.isDefault=!e.isDefault),r.editAddress(e).then((function(e){uni.showToast({title:"设置默认地址成功",icon:"none"}),t.getAddressList()}))}}};t.default=s},"9b6e":function(e,t,n){"use strict";var a=n("12bb"),d=n.n(a);d.a}}]);