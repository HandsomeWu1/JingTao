(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-promotion-recommend"],{"0ab7":function(t,e,i){"use strict";i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.getGoodsMessage=o,e.getGoodsRelated=a,e.getGoods=s,e.getGoodsDistribution=r,e.getGoodsList=c,e.getGoodsListUplog=d,e.getTagGoods=l,e.getPlateformTagGoods=f,e.getCategoryList=u,e.getCategory=p,e.distribution=h,e.applyDistribution=v,e.cash=b,e.cashLog=g,e.distributionOrderList=w,e.distributionGoods=m,e.checkedDistributionGoods=x,e.getMpCode=k,e.getMpScene=y;var n=i("e9a3");function o(t){return n.http.request({url:"/goods/get/".concat(t),method:n.Method.GET})}function a(t){return n.http.request({url:"/goods/es/related",method:n.Method.GET,params:t})}function s(t,e){return n.http.request({url:"/goods/sku/".concat(e,"/").concat(t),method:n.Method.GET})}function r(t){return n.http.request({url:"/distribution/bindingDistribution/".concat(t),method:n.Method.GET})}function c(t){return n.http.request({url:"/goods/es",method:n.Method.GET,params:t})}function d(t){return n.http.request({url:"goods/search/uplog",method:n.Method.GET,params:t})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hot",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return n.http.request({url:"goods/tags/".concat(e,"/goods"),method:n.Method.GET,loading:!1,params:{storeId:t,mark:e,num:i}})}function f(t){return n.http.request({url:"goods/tags/byid/".concat(t),method:n.Method.GET,loading:!1})}function u(t){return n.http.request({url:"/category/get/".concat(t),method:n.Method.GET,loading:!1})}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n.http.request({url:"goods/categories/".concat(t,"/children"),method:n.Method.GET,loading:!1})}function h(){return n.http.request({url:"/distribution",method:n.Method.GET})}function v(t){return n.http.request({url:"/distribution",method:n.Method.POST,params:t})}function b(t){return n.http.request({url:"/distribution/cash",method:n.Method.POST,params:t})}function g(){return n.http.request({url:"/distribution/cash",method:n.Method.GET})}function w(){return n.http.request({url:"/distribution/distributionOrder",method:n.Method.GET})}function m(t){return n.http.request({url:"/distributionGoods",method:n.Method.GET,params:t})}function x(t){return n.http.request({url:"/distributionGoods/checked/".concat(t.id),method:n.Method.GET,params:t})}function k(t){return n.http.request({url:"/mini-program/mp/unlimited",method:n.Method.GET,params:t})}function y(t){return n.http.request({url:"/mini-program/mp/unlimited/scene?id=".concat(t),method:n.Method.GET})}},"0ce3":function(t,e,i){var n=i("1c31");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("0f424f24",n,!0,{sourceMap:!1,shadowMode:!1})},"0d4a":function(t,e,i){"use strict";i.r(e);var n=i("cf35"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"17c8":function(t,e,i){"use strict";i.r(e);var n=i("726d"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"1c31":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*京东红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-5b7ca89c]{color:#ff6b35}.main-color[data-v-5b7ca89c]{color:#ff3c2a}.bg-light-color[data-v-5b7ca89c]{background-color:#ff6b35!important}.bg-light-color[data-v-5b7ca89c] *{background-color:#ff6b35!important}.bg-main-color[data-v-5b7ca89c]{background-color:#ff3c2a!important}.uni-tabbar .uni-tabbar__icon[data-v-5b7ca89c]{width:20px;height:18px}.h1[data-v-5b7ca89c]{font-weight:500;font-style:normal;font-size:24px}.h2[data-v-5b7ca89c]{font-weight:500;font-style:normal;font-size:20px}.h3[data-v-5b7ca89c]{font-weight:500;font-style:normal;font-size:18px}.h4[data-v-5b7ca89c]{font-weight:500;font-style:normal;font-size:16px}.flex[data-v-5b7ca89c]{display:-webkit-box;display:-webkit-flex;display:flex}.btn[data-v-5b7ca89c]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;-webkit-box-shadow:none;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-5b7ca89c]::after{border:none}.button-hover[data-v-5b7ca89c]{opacity:.7}.margin[data-v-5b7ca89c]{margin:10px}.tag[data-v-5b7ca89c]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;-webkit-box-shadow:none;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-5b7ca89c]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-5b7ca89c]{margin-top:%?30?%}.border-top[data-v-5b7ca89c]{border-top:1px solid #ebeef5}.describe[data-v-5b7ca89c]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-5b7ca89c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.relative[data-v-5b7ca89c]{position:relative}.wes[data-v-5b7ca89c]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-5b7ca89c]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}@font-face{font-family:iconfont;\n  /* project id 1564327 */src:url(https://at.alicdn.com/t/font_1564327_fcszez4n5i.eot);src:url(https://at.alicdn.com/t/font_1564327_fcszez4n5i.eot#iefix) format("embedded-opentype"),url(https://at.alicdn.com/t/font_1564327_fcszez4n5i.woff2) format("woff2"),url(https://at.alicdn.com/t/font_1564327_fcszez4n5i.woff) format("woff"),url(https://at.alicdn.com/t/font_1564327_fcszez4n5i.ttf) format("truetype"),url(https://at.alicdn.com/t/font_1564327_fcszez4n5i.svg#iconfont) format("svg")}.iconfont[data-v-5b7ca89c]{font-family:iconfont!important;font-size:%?28?%;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}.line[data-v-5b7ca89c]{position:absolute;height:3px;width:100px;background:#1abc9c}.dropdown-item[data-v-5b7ca89c]{position:relative}.dropdown-item__selected[data-v-5b7ca89c]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.dropdown-item__selected .selected__name[data-v-5b7ca89c]{font-size:%?32?%;white-space:nowrap;position:relative}.dropdown-item__selected .selected__icon[data-v-5b7ca89c]{margin-left:%?8?%}.dropdown-item__selected .selected__icon.down[data-v-5b7ca89c]{-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:rotate(0);transform:rotate(0)}.dropdown-item__selected .selected__icon.up[data-v-5b7ca89c]{-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.dropdown-item__content[data-v-5b7ca89c]{position:fixed;left:0;right:0;overflow:hidden;top:0;bottom:0;z-index:10}.dropdown-item__content .list[data-v-5b7ca89c]{max-height:400px;overflow-y:auto;position:absolute;left:0;right:0;z-index:3;background:#fff;-webkit-transform:translateY(-100%);transform:translateY(-100%);-webkit-transition:all .3s;transition:all .3s}.dropdown-item__content .list.show[data-v-5b7ca89c]{-webkit-transform:translateY(0);transform:translateY(0)}.dropdown-item__content .list__option[data-v-5b7ca89c]{font-size:%?32?%;padding:%?26?% %?28?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dropdown-item__content .list__option[data-v-5b7ca89c]:not(:last-child){border-bottom:%?1?% solid #ddd}.dropdown-item__content .dropdown-mask[data-v-5b7ca89c]{position:absolute;left:0;right:0;top:0;bottom:0;-webkit-transition:all .3s;transition:all .3s;z-index:2}.dropdown-item__content .dropdown-mask.show[data-v-5b7ca89c]{background:rgba(0,0,0,.5)}.dropdown-item[data-v-5b7ca89c]:not(:last-child):after{content:" ";position:absolute;width:%?2?%;top:%?36?%;bottom:%?36?%;right:0;background:#c8c7cc}',""]),t.exports=e},"2ef4":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uIcon:i("d38f").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"recommend",style:t.styleWay},[i("v-uni-view",{staticClass:"status_bar"}),i("v-uni-view",{staticClass:"prohibition",staticStyle:{"overscroll-behavior":"unset"}},[i("v-uni-view",{staticClass:"header",style:"height:"+t.header.height+"px;"},[i("v-uni-view",{staticClass:"left"},[i("u-icon",{attrs:{size:"40",name:"arrow-left"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goMainPage.apply(void 0,arguments)}}})],1),t._v(t._s(t.title)),i("v-uni-view",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCart.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"alifont icon-gouwuche1",staticStyle:{"font-size":"40rpx"}})],1)],1)],1),i("v-uni-view",{staticClass:"recommend-head",style:"margin-top:"+t.header.height+"px;"},[i("v-uni-image",{attrs:{src:"/pages/floor/imgs/recommend/head-sample.png",mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"index-navs"},[i("ms-dropdown-item",{ref:"dropdownItem1",staticClass:"index-nav",class:{"index-nav-active":1==t.nav},attrs:{hasSlot:!0,title:t.sortType||"综合排序"},nativeOn:{click:function(e){return t.handledropdown(1)}},model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}},[i("v-uni-view",{staticClass:"dropdown-item-content"},[i("v-uni-view",{staticClass:"dropdown-list",class:{"dropdown-list-active":"综合排序"==t.sortType},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setSortType("综合排序")}}},[t._v("综合排序")]),i("v-uni-view",{staticClass:"dropdown-list",class:{"dropdown-list-active":"新品排序"==t.sortType},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setSortType("新品排序")}}},[t._v("新品排序")])],1)],1),i("v-uni-view",{staticClass:"index-nav-divider"}),i("v-uni-view",{staticClass:"index-nav",class:{"index-nav-active":3==t.nav},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setNav(3)}}},[t._v("销量"),i("v-uni-view",{staticClass:"index-nav-arrows"},[i("v-uni-view",{staticClass:"index-nav-arrow"},["asc"===t.sale?i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-up-1.png",mode:"aspectFit"}}):i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-up.png",mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"index-nav-arrow"},["dec"===t.sale?i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-down.png",mode:"aspectFit"}}):i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-down-1.png",mode:"aspectFit"}})],1)],1)],1),i("v-uni-view",{staticClass:"index-nav-divider"}),i("v-uni-view",{staticClass:"index-nav",class:{"index-nav-active":4==t.nav},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setNav(4)}}},[t._v("价格"),i("v-uni-view",{staticClass:"index-nav-arrows"},[i("v-uni-view",{staticClass:"index-nav-arrow"},["asc"===t.price?i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-up-1.png",mode:"aspectFit"}}):i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-up.png",mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"index-nav-arrow"},["dec"===t.price?i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-down.png",mode:"aspectFit"}}):i("v-uni-image",{staticClass:"img",attrs:{src:"/static/index/arrow-down-1.png",mode:"aspectFit"}})],1)],1)],1),i("v-uni-view",{staticClass:"index-nav-divider"}),i("ms-dropdown-item",{ref:"dropdownItem2",staticClass:"index-nav",class:{"index-nav-active":2==t.nav},attrs:{hasSlot:!0,title:t.current_tag||"分类"},nativeOn:{click:function(e){return t.handledropdown(2)}},model:{value:t.current_tag,callback:function(e){t.current_tag=e},expression:"current_tag"}},[i("v-uni-view",{staticClass:"dropdown-tags"},[t._l(t.tags,(function(e,n){return i("v-uni-view",{staticClass:"dropdown-tag",class:{"dropdown-tag-active":t.current_tag==e},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setTags(e)}}},[t._v(t._s(e))])})),i("v-uni-view",{staticClass:"dropdown-tag cancel-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setTags("分类")}}},[t._v("取消")])],2)],1)],1),i("v-uni-view",{staticClass:"index-items"},t._l(t.goods,(function(e,n){return i("v-uni-view",{key:n,staticClass:"index-item"},[i("v-uni-view",{staticClass:"index-item-img",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toProduct(e.goods_id)}}},[i("v-uni-image",{attrs:{src:e.thumbnail,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"index-item-title"},[t._v(t._s(e.goodsName))]),i("v-uni-view",{staticClass:"index-item-price"},[t._v("¥"+t._s(t._f("unitPrice")(e.price))),i("span",{staticClass:"tipsMkt"},[t._v("¥"+t._s(e.mktprice))])]),i("v-uni-view",{staticClass:"index-item-title-desc"},[i("v-uni-view",[t._v("已售 "+t._s(e.buy_count))]),i("v-uni-view",[t._v("好评率 "+t._s(e.grade)+"%")])],1)],1)],1)})),1)],1)},a=[]},"47e1":function(t,e,i){"use strict";i.r(e);var n=i("2ef4"),o=i("17c8");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("e4e4");var s,r=i("f0c5"),c=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"5089dff9",null,!1,n["a"],s);e["default"]=c.exports},5746:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".index[data-v-5089dff9]{padding-top:0}.prohibition[data-v-5089dff9]{position:fixed;width:100%;z-index:100;top:0}.status_bar[data-v-5089dff9]{position:fixed;top:0;height:0;width:100%;background:#1abc9c;z-index:100}.header[data-v-5089dff9]{background:#1abc9c;position:relative;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?26?%;font-size:%?34?%;height:%?80?%}.header .left[data-v-5089dff9],\n.header .right[data-v-5089dff9]{position:absolute;width:-webkit-max-content;width:max-content;height:-webkit-max-content;height:max-content;top:0;bottom:0;margin:auto}.header .left[data-v-5089dff9]{float:left;top:0;bottom:0;left:%?20?%}.header .right[data-v-5089dff9]{float:right;right:%?20?%}.tipsMkt[data-v-5089dff9]{float:right;color:#c0c4cc;text-decoration:line-through;margin-right:%?20?%;font-size:%?24?%;line-height:%?40?%}.img[data-v-5089dff9]{width:13px!important;height:13px!important}.recommend[data-v-5089dff9]{width:100%;padding-top:0}.recommend-head uni-image[data-v-5089dff9]{width:3710 rpx;height:280 rpx}.index-navs[data-v-5089dff9]{height:80 rpx;padding:0 52 rpx;background-color:#f7f7f7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.index-nav[data-v-5089dff9]{color:#999;font-size:28 rpx;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.index-nav-active[data-v-5089dff9]{color:#1abc9c;font-weight:700}.index-nav-active .index-nav-desc[data-v-5089dff9]{color:#1abc9c}.index-nav-desc[data-v-5089dff9]{margin-top:8 rpx;font-size:22 rpx;color:#999}.index-nav-divider[data-v-5089dff9]{height:64 rpx;border-left:1px solid #dddcdf}.index-items[data-v-5089dff9]{margin-top:20 rpx;padding-left:20 rpx;background-color:#f7f7f7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.index-item[data-v-5089dff9]{width:346 rpx;background-color:#fff;margin:0 18 rpx 20 rpx 0;border-radius:16 rpx;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.index-item-img uni-image[data-v-5089dff9]{width:346 rpx;height:320 rpx;border-radius:%?8?% %?8?% 0 0}.index-item-title[data-v-5089dff9]{font-size:26 rpx;color:#333;padding:10 rpx 0 0 20 rpx;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.index-item-title-desc[data-v-5089dff9]{font-size:25 rpx;color:#c0c4cc;margin:%?10?% %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.index-item-price[data-v-5089dff9]{overflow:hidden;font-size:110 rpx;color:#ff5a10;padding:20 rpx 0 0 20 rpx}.index-nav-arrows[data-v-5089dff9]{margin-top:4 rpx;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.index-nav-arrow uni-image[data-v-5089dff9]{width:32 rpx;height:32 rpx}.index-nav-arrow[data-v-5089dff9]:last-child{margin-top:- 14 rpx}.index-nav-arrow[data-v-5089dff9]:first-child{margin-bottom:- 14 rpx}.dropdown-list[data-v-5089dff9]{width:100%;height:88 rpx;padding-left:40 rpx;font-size:110 rpx;color:#999;font-weight:400;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.dropdown-list-active[data-v-5089dff9]{color:#1abc9c}.dropdown-tags[data-v-5089dff9]{padding:110 rpx;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;z-index:9}.dropdown-tag[data-v-5089dff9]{padding:%?10?% %?20?%;height:60 rpx;margin:0 22 rpx 22 rpx 0;border-radius:60 rpx;background-color:#f9f9f9;font-size:110 rpx;color:#999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.dropdown-tag-active[data-v-5089dff9]{background-color:#fff;border:1px solid #ed4743;color:#ed4743}.cancel-btn[data-v-5089dff9]{background-color:#e4e1e6}",""]),t.exports=e},"726d":function(t,e,i){"use strict";var n=i("4ea4");i("4e82"),i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var o=n(i("1da1")),a=n(i("cb90")),s=i("0ab7"),r=n(i("d108")),c={components:{msDropdownItem:a.default},data:function(){return{styleWay:{height:"100%",overflow:"auto"},style_flag:!1,header:{top:0,height:40},originalGoods:[],oldOriginalGoods:[],sortData:[],goods:[],title:"",mark:"hot",nav:1,sale:"",price:"",sortType:"",tags:[],current_tag:"",typeSort1:!0,typeSort2:!1}},onLoad:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.title&&(e.title=t.title),t.mark&&(e.mark=t.mark),i.next=4,(0,s.getTagGoods)(-1,e.mark,9999);case 4:n=i.sent,e.originalGoods=n.data,e.reRank(),e.initCategory();case 8:case"end":return i.stop()}}),i)})))()},onNavigationBarButtonTap:function(){uni.switchTab({url:"/pages/tabbar/cart/cartList"})},methods:{handledropdown:function(t){this.style_flag?this.styleWay={overflow:"auto",height:"100%"}:this.styleWay={overflow:"hidden",height:"100vh"},this.style_flag=!this.style_flag,t||(this.$refs.dropdownItem2.closePopup(),this.$refs.dropdownItem1.closePopup()),this.sale="",this.price="",1==t?(this.nav=1,this.$refs.dropdownItem2.closePopup()):(this.nav=2,this.$refs.dropdownItem1.closePopup())},getData:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.getTagGoods)(-1,t.mark,9999);case 2:i=e.sent,t.originalGoods=i.data,t.reRank(),t.initCategory();case 6:case"end":return e.stop()}}),e)})))()},toProduct:function(t){uni.navigateTo({url:"/pages/product/goods?id="+t})},goMainPage:function(){uni.navigateBack()},goCart:function(){var t={from:"recommend",id:""};r.default.setCartBackbtn(t),uni.switchTab({url:"/pages/tabbar/cart/cartList"})},saleSort:function(t){"asc"==t?this.originalGoods.sort(this.sortAsc("buy_count")):this.originalGoods.sort(this.sortDec("buy_count"))},priceSort:function(t){"asc"==t?this.originalGoods.sort(this.sortAsc("price")):this.originalGoods.sort(this.sortDec("price"))},cateSort:function(t){this.sortData=[];for(var e=0;e<this.originalGoods.length;e++)this.originalGoods[e].category_name==t&&this.sortData.push(this.originalGoods[e]);this.goods=this.sortData},sortDec:function(t){return function(e,i){var n=e[t],o=i[t];return n<o?1:n>o?-1:0}},sortAsc:function(t){return function(e,i){var n=e[t],o=i[t];return n<o?-1:n>o?1:0}},setNav:function(t){this.handledropdown(),this.nav=t,3==t?(this.typeSort1?this.setSort("sale","dec"):this.setSort("sale","asc"),this.typeSort1=!this.typeSort1):4==t&&(this.typeSort2?this.setSort("price","asc"):this.setSort("price","dec"),this.typeSort2=!this.typeSort2)},setSort:function(t,e){this.handledropdown(),"sale"===t&&(this.nav=3,this.saleSort(e),this.$set(this,"price","")),"price"===t&&(this.nav=4,this.priceSort(e),this.$set(this,"sale","")),this[t]===e?this.$set(this,t,""):this.$set(this,t,e)},setSortType:function(t){this.nav=1,this.sortType=t,"新品排序"==t?this.originalGoods.sort(this.sortDec("goods_id")):this.getData(),this.$refs.dropdownItem1.closePopup()},setTags:function(t){this.current_tag=t,this.$refs.dropdownItem2.closePopup(),"分类"===t?(this.nav=1,this.reRank()):(this.nav=2,this.cateSort(t))},initCategory:function(){for(var t=this.goods,e=[],i=0;i<t.length;i++)e.push(t[i].category_name);this.tags=this.unique(e)},unique:function(t){for(var e=0;e<t.length;e++)for(var i=e+1;i<t.length;i++)t[e]==t[i]&&(t.splice(i,1),i--);return t},reRank:function(){this.goods=this.originalGoods}}};e.default=c},cb90:function(t,e,i){"use strict";i.r(e);var n=i("cc23"),o=i("0d4a");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("d84e0");var s,r=i("f0c5"),c=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"5b7ca89c",null,!1,n["a"],s);e["default"]=c.exports},cc23:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown-item"},[i("v-uni-view",{staticClass:"dropdown-item__selected",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePopup.apply(void 0,arguments)}}},[t.$slots.title?t._t("title"):[i("v-uni-view",{staticClass:"selected__name"},[t._v(t._s(t.title?t.title:t.selectItem.text))])]],2),t.showList?i("v-uni-view",{staticClass:"dropdown-item__content",style:{top:t.contentTop+"px"}},[i("v-uni-view",{class:["list",t.showClass]},[t.$slots.default?t._t("default"):t._l(t.list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"list__option",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.choose(e)}}},[i("v-uni-view",[t._v(t._s(e.text))]),e.value===t.value?i("v-uni-icon",{attrs:{type:"success_no_circle",size:"26"}}):t._e()],1)}))],2),t.showList?i("v-uni-view",{class:["dropdown-mask",t.showClass],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.moveHandle.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}}):t._e()],1):t._e()],1)},a=[]},cf35:function(t,e,i){"use strict";i("a9e3"),i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{},props:{value:[Number,String,Object],list:{type:Array,default:function(){return[]}},title:[Number,String],contentTopReduse:{type:Number,default:0}},data:function(){return{showList:"",showClass:"",selectItem:{},contentTop:0}},watch:{},mounted:function(){this.showList=this.active,this.selectItem=this.list[this.value]},methods:{moveHandle:function(){},choose:function(t){this.selectItem=t,this.$emit("input",t.value),this.closePopup()},changePopup:function(){this.showList?this.closePopup():this.openPopup()},openPopup:function(){var t=this;this.$parent.$emit("close"),this.showList=!0,this.$nextTick((function(){t.getElementData(".dropdown-item__selected",(function(e){t.contentTop=e[0].bottom-t.contentTopReduse,t.showClass="show"}))}))},closePopup:function(){var t=this;this.showClass="",setTimeout((function(){t.showList=!1}),300)},close:function(){this.showClass="",this.showList=!1},getElementData:function(t,e){uni.createSelectorQuery().in(this).selectAll(t).boundingClientRect().exec((function(t){e(t[0])}))}}};e.default=n},d84e0:function(t,e,i){"use strict";var n=i("0ce3"),o=i.n(n);o.a},d8f6:function(t,e,i){var n=i("5746");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("6603fefc",n,!0,{sourceMap:!1,shadowMode:!1})},e4e4:function(t,e,i){"use strict";var n=i("d8f6"),o=i.n(n);o.a}}]);